import { useState } from 'react'
import { gsap } from 'gsap';
import { useGSAP } from "@gsap/react"
import { MorphSVGPlugin } from "gsap/MorphSVGPlugin";
import Page1 from './Page1'
import Page2 from './Page2'

gsap.registerPlugin(useGSAP, MorphSVGPlugin)

export default function Quizz() {
    const [isStarted, setIsStarted] = useState(false)
        function handleClick(){
            setIsStarted(true)
        }
    useGSAP(()=>{
        //const blob1Morph = "M9.17273 187C-19.1155 156.456 27.1452 102.475 31 61C35.2667 15.0943 71.4349 43.7741 114 26C154.378 9.1392 178.035 -13.2558 213.822 11.8506C243.947 32.9859 244.823 73.1244 254.141 108.729C264.17 147.051 235.842 210.031 213.822 243C190.859 277.38 160.06 269.663 119 265C83.3865 260.955 33.5138 213.282 9.17273 187Z"
        const blob1Morph = "M1.29979 124.588C5.09168 83.1301 34.9426 47.2695 68.3569 22.3997C105.341 -5.127 157.917 -6.12882 199.597 13.6319C239.135 32.3774 218.419 73.1916 223.684 116.588C228.117 153.121 243.925 181.433 223.684 212.171C201.899 245.255 174.538 246.913 135.3 252.588C94.3828 258.507 48.2909 277.234 24.2998 243.588C3.49091 214.405 -1.96301 160.262 1.29979 124.588Z"
        //const blob2Morph = "M179 0C253 16 254.937 55.1691 285 84C318.275 115.911 309.58 193.36 297 237.738C285.066 279.836 212.924 255.616 171 268C135.707 278.425 126.667 210.867 93 196C56.7631 179.999 16.0995 203.755 3.99997 166C-8.61735 126.63 17.7947 56.2352 47 27C72.3314 1.6426 143.279 2.6941 179 0Z"
        const blob2Morph = "M153.603 1.8825C181.304 6.94068 209.174 43.5093 209.174 70.2946C209.174 107.202 171.007 115.387 156.174 139.295C142.104 161.974 102.431 159.709 70.9316 153.295C46.7267 148.365 38.5594 132.093 18.6744 117.795C-2.72813 102.405 -3.32553 61.7947 7.85689 37.7231C21.0633 9.29463 60.1795 28.0715 83.6744 15.7947C104.053 5.1462 129.768 -2.4699 153.603 1.8825Z"
        const blob1Morph0 = "M63.4095 213.395C35.1213 182.851 -2.68211 153.782 1.17274 112.307C5.43941 66.401 39.854 26.6412 82.4191 8.86712C122.797 -7.99371 170.035 1.74417 205.822 26.8506C235.947 47.9859 236.823 88.1244 246.141 123.729C256.17 162.051 282.521 202.811 260.501 235.779C237.538 270.159 188.991 275.432 147.931 270.768C112.318 266.723 87.7505 239.677 63.4095 213.395Z"
        
        const blob1Morph2 = "M46.9195 12.4906C109.919 -25.8589 151.606 41.827 192.919 47.141C238.646 53.0227 270.847 54.1667 287.11 97.3316C295.919 148.141 259.287 153.256 232.935 188.135C210.751 217.497 215.919 245.826 166.55 256.904C127.899 265.577 107.062 247.766 74.8897 224.598C41.3408 200.438 -4.8279 181.9 1.27944 141.03C6.57669 105.581 -11.0805 37.141 46.9195 12.4906Z"
        const blob2Morph2 = "M161.956 148.84C160.511 176.962 127.84 209.314 101.278 212.766C64.6782 217.524 35 203 17 175C2.56748 152.549 -1.15 118.438 1.15105 86.3752C2.91925 61.7369 5.38403 36.5621 17 14.9999C29.5024 -8.20779 82.3161 0.943347 107.628 8.92969C137.522 18.3616 161.956 49.4909 161.956 76C161.956 106 163.2 124.643 161.956 148.84Z"
        const blob2Morph0 = "M97.081 2.96445C125.176 1.07254 156.497 -5.87426 176.843 11.5469C199.363 30.8293 205.928 62.0589 197.414 88.8747C189.338 114.313 164.282 132.992 135.909 140.475C112.024 146.775 90.3937 132.093 67.6086 123.11C43.0847 113.441 10.3944 110.575 2.2058 87.7612C-6.33319 63.9714 11.3227 39.0277 31.0878 21.3621C48.2313 6.03978 72.9064 4.59238 97.081 2.96445Z"
        
        const blob1Tl = gsap.timeline({
            defaults:{ duration: 3, transformOrigin: "center center", ease: "linear"},
            repeat: -1, yoyo: false
        })
        blob1Tl
            .to(".blob1", {morphSVG: blob1Morph })
            .to(".blob1", {morphSVG: blob1Morph2})
            .to(".blob1", {morphSVG: blob1Morph0})
            //.to(".blob1", { morphSVG: "M63.4095 213.395C35.1213 182.851 -2.68211 153.782 1.17274 112.307C5.43941 66.401 39.854 26.6412 82.4191 8.86712C122.797 -7.99371 170.035 1.74417 205.822 26.8506C235.947 47.9859 236.823 88.1244 246.141 123.729C256.17 162.051 282.521 202.811 260.501 235.779C237.538 270.159 188.991 275.432 147.931 270.768C112.318 266.723 87.7505 239.677 63.4095 213.395Z" }); // back to start

        const blob2Tl = gsap.timeline({
            defaults:{duration: 3, transformOrigin: "center center", ease: "linear"},
            repeat: -1, yoyo: false
        })
        blob2Tl
            .to(".blob2", {morphSVG: blob2Morph})
            .to(".blob2", {morphSVG: blob2Morph2})
            .to(".blob2", {morphSVG: blob2Morph0})

    })
  return (
    <section className='container-main'>
        {isStarted ? <Page2/> : <Page1 startGame={handleClick} />}

         <div className="bg-anim">
            <svg className="yellow-blob" aria-hidden="true"  width="270" height="273" viewBox="0 0 270 273" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path className='blob1' fillRule="evenodd" clipRule="evenodd" d="M63.4095 213.395C35.1213 182.851 -2.68211 153.782 1.17274 112.307C5.43941 66.401 39.854 26.6412 82.4191 8.86712C122.797 -7.99371 170.035 1.74417 205.822 26.8506C235.947 47.9859 236.823 88.1244 246.141 123.729C256.17 162.051 282.521 202.811 260.501 235.779C237.538 270.159 188.991 275.432 147.931 270.768C112.318 266.723 87.7505 239.677 63.4095 213.395Z" fill="#FFFAD1"/>
            </svg>


            {/* <svg width="297" height="235" viewBox="0 0 297 235" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path className='blob2' fillRule="evenodd" clipRule="evenodd" d="M143.448 4.90596C184.961 1.77498 231.243 -9.72149 261.306 19.1094C294.581 51.0203 304.282 102.703 291.701 147.081C279.767 189.18 242.745 220.092 200.821 232.476C165.528 242.902 133.567 218.605 99.8993 203.738C63.6625 187.737 15.3588 182.993 3.25932 145.239C-9.35799 105.868 16.7305 64.5881 45.9358 35.3528C71.2672 9.99541 107.727 7.60006 143.448 4.90596Z" fill="#DEEBF8"/>
            </svg> */}

            <svg className="blue-blob" aria-hidden="true" width="201" height="142" viewBox="0 0 201 142" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path className='blob2' fillRule="evenodd" clipRule="evenodd" d="M97.081 2.96445C125.176 1.07254 156.497 -5.87426 176.843 11.5469C199.363 30.8293 205.928 62.0589 197.414 88.8747C189.338 114.313 164.282 132.992 135.909 140.475C112.024 146.775 90.3937 132.093 67.6086 123.11C43.0847 113.441 10.3944 110.575 2.2058 87.7612C-6.33319 63.9714 11.3227 39.0277 31.0878 21.3621C48.2313 6.03978 72.9064 4.59238 97.081 2.96445Z" fill="#DEEBF8"/>
            </svg>


        </div>
    </section>
  )
}
